{% extends "indexTemplate.htm" %}{% block title %}Block IP List{% endblock %}{% block body %}	{% if errorMsg %}		<div class="alert alert-error">{{errorMsg}}</div>	{% endif %}	{% if message %}		<div class="alert alert-success">{{message}}</div>	{% endif %}	<div>		<a href="#myModal" role="button" class="btn btn-primary" data-toggle="modal">Block IP</a>	</div>	<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">		<div class="modal-header">			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>			<h3 id="myModalLabel">Add Blocked IP</h3>		</div>		<div class="modal-body">			<form id="addRule" name="addRule" class="form-horizontal" action="/web/blockbyip" method="post">				<div class="control-group">					<label for="addressStart" class="control-label" >IP Address Start：</label>					<div class="controls"> 						<input id="addressStart" type="text" name="addressStart"/>					</div>				</div>				<div class="control-group">					<label for="addressEnd" class="control-label" >IP Address End：</label>					<div class="controls"> 						<input id="addressEnd" type="text" name="addressEnd"/>					</div>				</div>			</form>		</div>		<div class="modal-footer">			<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>			<button class="btn btn-primary" type="submit" form="addRule">Save</button>		</div>	</div>	<table class="table table-bordered">	    <thead>		    <tr>			    <th>IP Start</th>			    <th>IP End</th>		    </tr>		    <tr class="filter">			    <td>IP Start</td>		    </tr>	    </thead>	    <tbody>	    	{% for add_start,add_end in data %}			    <tr>				    <td>{{add_start}}</td>				    <td>{{add_end}}</td>			    </tr>			{% endfor %}	    </tbody>    </table>	<div id="pagination"></div>	<script type="text/javascript" src="/static/js/bootstrap-paginator.min.js"></script>	<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>	<script type="text/javascript" src="/static/js/jquery.validate.1.10.min.js"></script>	<script type="text/javascript">		var addRuleValidator;		$(document).ready(function(){			pagination();			initModal();		});				function initModal(){			jQuery.validator.addMethod("ip", function(value, element) {				return this.optional(element) || /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(value);			},"Please enter a correct IP adress"),			addRuleValidator = $('#addRule').validate({				 rules: {					addressStart: {required: true, maxlength: 15, ip:true },					addressEnd: {required: true, maxlength: 15, ip:true}				  }			});			JC.modal('myModal', addRuleValidator);		}				function pagination(){			$('#pagination').bootstrapPaginator({				currentPage: {{page}},				alignment: "center",	            totalPages: {{count}},	            onPageChanged: function(event, oldPage, newPage){	            	window.location="/web/showrules?page=" + newPage;	            }	    	});		}	</script>{% endblock %}